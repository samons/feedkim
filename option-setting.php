<?php/** * * 主题相关参数设置，尽量少， * * @uses add_theme_page()    * @uses add_action() * * * @return null */function feedkim_ad_theme_setting(){  if($_POST['feedkim_update_themeoptions']=='true') {feedkim_themeoptions_update();}  add_theme_page('feedKim'.__('设置','feedkim'),'feedKim'.__('设置','feedkim'), 'administrator', 'theme_setting','feedkim_theme_setting'); }   add_action('admin_menu', 'feedkim_ad_theme_setting');/** * theme setting * * @since 2020-4-9 * @return HTML */function feedkim_themeoptions_update(){  update_option('feedkim_homeKeyword', $_POST['homeKeyword']);  update_option('feedkim_homeDescription', $_POST['homeDescription']);  update_option('feedkim_bbs', $_POST['feedkimBBS']);  update_option('feedkim_top_JQ', stripslashes($_POST['top_JQ']));  update_option('feedkim_bottom_JQ', stripslashes($_POST['bottom_JQ']));  update_option('feedkim_jquery_url', $_POST['jquery_url']);  update_option('feedkim_bootstrap_css_url', $_POST['bootstrap_css_url']);  update_option('feedkim_bootstrap_js_url', $_POST['bootstrap_js_url']);  update_option('feedkim_other_js_url', $_POST['other_js_url']);}function feedkim_theme_setting(){ ?><div class="wrap">  <h1>feedKim<?php _e('主题相关设置','feedkim')?></h1>  <hr>  <form method="POST" action="" style="padding-left:20px;">  <input type="hidden" name="feedkim_update_themeoptions" value="true" /><!-- hidden -->  <table class="form-table" role="presentation">    <tbody>      <tr>        <th scope="row"><label for="homeKeyword"><?php _e('首页关键词','feedkim')?></label></th>        <td>          <input name="homeKeyword" type="text" id="homeKeyword" value="<?php echo get_option('feedkim_homeKeyword'); ?>" class="regular-text">          <p class="description"><?php _e('多个词请使用英文半角逗号隔开','feedkim')?></p>        </td>      </tr><!-- 首页关键词 end -->      <tr>        <th scope="row"><label for="homeDescription"><?php _e('首页描述','feedkim')?></label></th>        <td>          <textarea type="text" name="homeDescription" cols="60" rows="3"><?php echo get_option('feedkim_homeDescription'); ?></textarea>        </td>      </tr><!-- 首页描述 end -->      <tr>        <th scope="row"><label for="feedkimBBS"><?php _e('留言板页面','feedkim')?></label></th>        <td>          <input name="feedkimBBS" type="text" id="feedkimBBS" value="<?php echo get_option('feedkim_bbs'); ?>" class="regular-text">          <p class="description">            <?php _e('留言板页面，涉及函数','feedkim')?>:query_posts()<?php _e('可设参数如下','feedkim')?>;<br>            <?php _e('别名','feedkim')?>：<code>pagename=<i>pagename</i></code>;<br>            <?php _e('页面','feedkim')?>(Page)ID：<code>page_id=1</code>;<br>            <?php _e('文章','feedkim')?>ID：<code>p=1</code>;          </p>        </td>      </tr><!-- BBS end -->      <tr>        <th scope="row"><label for="top_JQ"><?php _e('顶部JS/JQ','feedkim')?></label></th>        <td>          <textarea name="top_JQ" cols="60" rows="4"><?php echo get_option('feedkim_top_JQ'); ?></textarea>          <p class="description"><?php _e('网站顶部的JS/JQ代码','feedkim')?></p>        </td>      </tr><!-- 顶部JS/JQ end -->      <tr>        <th scope="row"><label for="bottom_JQ"><?php _e('底部JS/JQ','feedkim')?></label></th>        <td>          <textarea name="bottom_JQ" cols="60" rows="4"><?php echo get_option('feedkim_bottom_JQ'); ?></textarea>          <p class="description"><?php _e('网站底部的JS/JQ代码','feedkim')?></p>        </td>      </tr><!-- 底部JS/JQ end -->      <tr>        <th scope="row">CDN<?php _e('加速','feedkim')?></th>        <td>          <input name="jquery_url" type="url" id="jquery_url" value="<?php echo get_option('feedkim_jquery_url'); ?>" class="regular-text" placeholder="http(s)://">/jquery.min.js<br>          <input name="bootstrap_css_url" type="url" id="bootstrap_css_url" value="<?php echo get_option('feedkim_bootstrap_css_url'); ?>" class="regular-text" placeholder="http(s)://">/bootstrap.min.css<br>          <input name="bootstrap_js_url" type="url" id="bootstrap_js_url" value="<?php echo get_option('feedkim_bootstrap_js_url'); ?>" class="regular-text" placeholder="http(s)://">/bootstrap.min.js<br>          <input name="other_js_url" type="url" id="other_js_url" value="<?php echo get_option('feedkim_other_js_url'); ?>" class="regular-text" placeholder="http(s)://">/*****.js|css          <p><?php _e('相应位置插入类似代码','feedkim')?>:<br><code>&lt;?php feedkim_echo_CDN_URL('bootstrap.min.js')?&gt;<br>&lt;?php feedkim_echo_CDN_URL('bootstrap.min.css','css')?&gt;</code></p>        </td>      </tr><!-- favicon_ico end -->    </tbody>  </table>    <p><input type="submit" name="submit" id="submit" class="button button-primary" value="<?php _e('提交修改','feedkim') ?>">    </p>  </form></div><?php }?>